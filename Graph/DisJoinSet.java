package Graph;
import java.util.*;
public class DisJoinSet {
	class Node{
		int val; 
		int rank;
		Node parent;
		
	}
	private HashMap<Integer, Node> map = new HashMap<>();
	
	//1. Create
	public void create(int v) {
		Node nn = new Node();
		nn.val = v;
		nn.rank = 0;
		nn.parent = nn;
		map.put(v,  nn);
	}
	
	//2. Find
	public int find(int v) {
		Node node = map.get(v);  //4-> 4k
		return find(node).val;
		}
//	now check on address 4k in tree
	private Node find(Node node) {
		if(node.parent == node) {
			return node;
		}
		Node n = find(node.parent);
		node.parent = n; //path compression 
		return n;
	}
	
	//3.Union
	public void Union(int v1, int v2) {
		Node node1 = map.get(v1); //v1 vtx kahan pe create hua h
		Node node2 = map.get(v2); //v2 vtx kahan pe create hua h
		Node re1 = find(node1); // v1 ka reprentstive node h
		Node re2 = find(node2); // v2 ka reprentstive node h
		if(re1.rank == re2.rank) {
			re1.parent = re2;
			re2.rank++;
			
		}
		else if(re1.rank<re2.rank) {
			re1.parent = re2;
			
		}
		else {
			re2.parent = re1;
		}
		
	}
}
